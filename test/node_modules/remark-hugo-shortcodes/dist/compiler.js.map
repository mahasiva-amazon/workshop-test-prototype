{"version":3,"file":"compiler.js","sourceRoot":"","sources":["../src/compiler.ts"],"names":[],"mappings":";;;AAEA,mCAAyD;AAEzD,SAAgB,iBAAiB,CAAC,IAAU;IACxC,IAAI,CAAC,sBAAc,CAAC,IAAI,CAAC;QACrB,OAAO,EAAE,CAAA;IAEb,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,OAAO,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAA;IACnF,IAAI,MAAM,GAAG,UAAU,GAAG,GAAG,CAAA;IAE7B,IAAI,OAAO;QACP,MAAM,IAAI,GAAG,CAAA;IAEjB,MAAM,IAAI,UAAU,CAAA;IAEpB,IAAI,UAAU,CAAC,MAAM;QACjB,MAAM,IAAI,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YAClC,OAAO,IAAI;iBACN,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBACrC,CAAC,CAAC,CAAC,CAAC,8BAA8B;gBAClC,CAAC,CAAC,uBAAe,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAC9B;iBACA,IAAI,CAAC,GAAG,CAAC,CAAA;QAClB,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;IAEhB,MAAM,IAAI,GAAG,CAAA;IACb,IAAI,WAAW;QACX,MAAM,IAAI,GAAG,CAAA;IAEjB,MAAM,IAAI,QAAQ,CAAA;IAElB,OAAO,MAAM,CAAA;AACjB,CAAC;AA7BD,8CA6BC","sourcesContent":["// tslint:disable-next-line: no-implicit-dependencies\nimport { Node } from 'unist'\nimport { escapeAttribute, isShortcodeAST } from './utils'\n\nexport function shortcodeCompiler(node: Node) {\n    if (!isShortcodeAST(node))\n        return ''\n\n    const { identifier, attributes, closing, selfClosing, startBlock, endBlock } = node\n    let result = startBlock + ' '\n\n    if (closing)\n        result += '/'\n\n    result += identifier\n\n    if (attributes.length)\n        result += ' ' + attributes.map(attr => {\n            return attr\n                .map((a, i) => attr.length == 2 && i == 0\n                    ? a // Don't escape attribute name\n                    : escapeAttribute(a, i > 0)\n                )\n                .join('=')\n        }).join(' ')\n\n    result += ' '\n    if (selfClosing)\n        result += '/'\n\n    result += endBlock\n\n    return result\n}\n"]}