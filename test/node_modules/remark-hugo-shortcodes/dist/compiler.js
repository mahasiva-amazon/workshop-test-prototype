"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.shortcodeCompiler = void 0;
const utils_1 = require("./utils");
function shortcodeCompiler(node) {
    if (!utils_1.isShortcodeAST(node))
        return '';
    const { identifier, attributes, closing, selfClosing, startBlock, endBlock } = node;
    let result = startBlock + ' ';
    if (closing)
        result += '/';
    result += identifier;
    if (attributes.length)
        result += ' ' + attributes.map(attr => {
            return attr
                .map((a, i) => attr.length == 2 && i == 0
                ? a // Don't escape attribute name
                : utils_1.escapeAttribute(a, i > 0))
                .join('=');
        }).join(' ');
    result += ' ';
    if (selfClosing)
        result += '/';
    result += endBlock;
    return result;
}
exports.shortcodeCompiler = shortcodeCompiler;
//# sourceMappingURL=compiler.js.map